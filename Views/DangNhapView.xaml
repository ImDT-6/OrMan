<UserControl x:Class="OrMan.Views.DangNhapView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:OrMan.Helpers" 
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="1200"
             FontFamily="Segoe UI">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Resources/InputStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.Background>
            <StaticResource ResourceKey="MainBackgroundGradient"/>
        </Grid.Background>

        <Border Width="420" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="40" CornerRadius="30" Background="{StaticResource GlassBackground}" BorderBrush="{StaticResource GlassBorder}" BorderThickness="0.5">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="270" ShadowDepth="0" BlurRadius="30" Opacity="0.2"/>
            </Border.Effect>

            <StackPanel>
                <TextBlock Text="RESTAURANT" FontSize="32" FontWeight="Bold" Foreground="{StaticResource TextPrimary}" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="MANAGEMENT SYSTEM" FontSize="16" FontWeight="SemiBold" Foreground="{StaticResource TextSecondary}" HorizontalAlignment="Center" Margin="0,0,0,35" Opacity="0.8"/>

                <Border Width="100" Height="100" Margin="0,0,0,25" HorizontalAlignment="Center"
                    Background="Transparent" BorderThickness="0">

                    <Image x:Name="imgMascot"
                        Source="/Images/debut.JPG"
                        Width="100" Height="100"
                        Stretch="UniformToFill"
                        HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Image.Clip>
                            <EllipseGeometry Center="50,50" RadiusX="50" RadiusY="50" />
                        </Image.Clip>
                    </Image>
                </Border>

                <TextBox x:Name="txtUser"
                         GotFocus="txtUser_GotFocus"
                         PreviewKeyDown="txtUser_PreviewKeyDown" 
                         TextChanged="txtUser_TextChanged" 
                         Style="{StaticResource GlassTextBox}"
                         Text="{Binding TaiKhoan, UpdateSourceTrigger=PropertyChanged, ValidatesOnNotifyDataErrors=True}"
                         Tag="{StaticResource IconUser}"
                         ToolTip="Tên đăng nhập" 
                         Padding="45,0,45,0"
                         Margin="0,0,0,10"/>

                <Grid Margin="0,0,0,25">

                    <TextBox x:Name="txtVisiblePass"
                             GotFocus="txtVisiblePass_GotFocus"
                             Style="{StaticResource GlassTextBox}"
                             Text="{Binding MatKhau, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                             Tag="{StaticResource IconLockVisible}"
                             ToolTip="Mật khẩu"
                             Padding="45,0,45,0"
                             PreviewKeyDown="txtVisiblePass_PreviewKeyDown"
                             Visibility="{Binding ElementName=btnEye, Path=IsChecked, Converter={StaticResource BooleanToVisibilityConverter}}"/>

                    <PasswordBox x:Name="pwdBox"
                                 GotFocus="pwdBox_GotFocus"
                                 LostFocus="pwdBox_LostFocus"
                                 PreviewKeyDown="pwdBox_PreviewKeyDown"
                                 local:PasswordBoxHelper.BindPassword="True"
                                 local:PasswordBoxHelper.BoundPassword="{Binding MatKhau, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnNotifyDataErrors=True}"
                                 Tag="{StaticResource IconLock}"
                                 ToolTip="Mật khẩu">
                        <PasswordBox.Style>
                            <Style TargetType="PasswordBox" BasedOn="{StaticResource GlassPasswordBox}">
                                <Setter Property="Padding" Value="45,0,45,0"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=btnEye, Path=IsChecked}" Value="True">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </PasswordBox.Style>
                    </PasswordBox>

                    <ToggleButton x:Name="btnEye"
                                  Width="30" Height="30"
                                  Focusable="False"
                                  Click="BtnEye_Click"
                                  HorizontalAlignment="Right" VerticalAlignment="Top"
                                  Margin="0,12.5,10,0"
                                  Background="Transparent" BorderThickness="0" Cursor="Hand">
                        <ToggleButton.Template>
                            <ControlTemplate TargetType="ToggleButton">
                                <Grid Background="Transparent">
                                    <Path x:Name="IconEyeClosed" 
                                          Data="M11.83,9L15,12.16C15,12.11,15,12.05,15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3L2,4.27M12,7C14.08,7 16.07,7.74 17.75,9L19.35,10.6C19.5,11.06 19.5,11.53 19.5,12C19.5,13.23 19.14,14.39 18.5,15.38L20.54,17.41C21.75,15.91 22.63,14.07 23,12C21.27,7.61 17,4.5 12,4.5C10.74,4.5 9.5,4.73 8.35,5.16L10.22,7.03C10.79,7.01 11.39,7 12,7Z"
                                          Fill="{StaticResource TextSecondary}" Stretch="Uniform" Width="18"/>

                                    <Path x:Name="IconEyeOpen" 
                                          Data="M12,4.5C7,4.5,2.73,7.61,1,12c1.73,4.39,6,7.5,11,7.5s9.27-3.11,11-7.5C21.27,7.61,17,4.5,12,4.5z M12,17 c-2.76,0-5-2.24-5-5s2.24-5,5-5s5,2.24,5,5S14.76,17,12,17z M12,9c-1.66,0-3,1.34-3,3s1.34,3,3,3s3-1.34,3-3S13.66,9,12,9z" 
                                          Fill="{DynamicResource AccentGradient}" Stretch="Uniform" Width="18" Visibility="Collapsed"/>
                                </Grid>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsChecked" Value="True">
                                        <Setter TargetName="IconEyeClosed" Property="Visibility" Value="Collapsed"/>
                                        <Setter TargetName="IconEyeOpen" Property="Visibility" Value="Visible"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </ToggleButton.Template>
                    </ToggleButton>
                </Grid>

                <Button Content="ĐĂNG NHẬP" 
                        IsDefault="True" 
                        Click="Button_Click" 
                        Style="{StaticResource GlassButtonStyle}" 
                        Margin="0,0,0,20"/>

                <TextBlock Text="Quên mật khẩu?" Foreground="{StaticResource TextSecondary}" HorizontalAlignment="Center" Cursor="Hand" Margin="0,0,0,25"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,35">
                    <TextBlock Text="Khách hàng mới? " Foreground="{StaticResource TextSecondary}"/>
                    <TextBlock Text="Đặt bàn ngay" Foreground="White" FontWeight="Bold" Cursor="Hand"/>
                </StackPanel>

                <Border Height="1" Background="{StaticResource GlassBorder}" Margin="20,0,20,25" Opacity="0.5"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Style="{StaticResource SocialButtonStyle}" Content="{StaticResource IconGoogle}"/>
                    <Button Style="{StaticResource SocialButtonStyle}" Content="{StaticResource IconApple}"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>